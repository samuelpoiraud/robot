   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"Can_msg_processing.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.rodata
  19              		.align	2
  20              	.LC0:
  21 0000 43414E50 		.ascii	"CANProcess: Act Msg SID: 0x%x, cmd: 0x%x(%u)\012\000"
  21      726F6365 
  21      73733A20 
  21      41637420 
  21      4D736720 
  22 002e 0000     		.align	2
  23              	.LC1:
  24 0030 43414E50 		.ascii	"CANProcess: C:BROADCAST_STOP_ALL\012\000"
  24      726F6365 
  24      73733A20 
  24      433A4252 
  24      4F414443 
  25 0052 0000     		.align	2
  26              	.LC2:
  27 0054 43414E50 		.ascii	"CANProcess: C:BROADCAST_START\012\000"
  27      726F6365 
  27      73733A20 
  27      433A4252 
  27      4F414443 
  28 0073 00       		.align	2
  29              	.LC3:
  30 0074 43414E50 		.ascii	"CANProcess: Msg SID: 0x%x(%u)\012\000"
  30      726F6365 
  30      73733A20 
  30      4D736720 
  30      5349443A 
  31 0093 00       		.text
  32              		.align	2
  33              		.global	CAN_process_msg
  34              		.thumb
  35              		.thumb_func
  37              	CAN_process_msg:
  38              	.LFB111:
  39              		.file 1 "../Can_msg_processing.c"
   1:../Can_msg_processing.c **** /*
   2:../Can_msg_processing.c ****  *	Club Robot ESEO 2010 - 2011
   3:../Can_msg_processing.c ****  *	Check Norris
   4:../Can_msg_processing.c ****  *
   5:../Can_msg_processing.c ****  *	Fichier : Can_msg_processing.c
   6:../Can_msg_processing.c ****  *	Package : Carte actionneur
   7:../Can_msg_processing.c ****  *	Description : Fonctions de traitement des messages CAN
   8:../Can_msg_processing.c ****  *  Auteur : Aurélien
   9:../Can_msg_processing.c ****  *  Version 20110225
  10:../Can_msg_processing.c ****  */
  11:../Can_msg_processing.c **** 
  12:../Can_msg_processing.c **** 
  13:../Can_msg_processing.c **** #define CAN_MSG_PROCESSING_C
  14:../Can_msg_processing.c **** 
  15:../Can_msg_processing.c **** #include "Can_msg_processing.h"
  16:../Can_msg_processing.c **** #include "QS/QS_DCMotor2.h"
  17:../Can_msg_processing.c **** #include "QS/QS_can.h"
  18:../Can_msg_processing.c **** #include "QS/QS_CANmsgList.h"
  19:../Can_msg_processing.c **** #include "queue.h"
  20:../Can_msg_processing.c **** 
  21:../Can_msg_processing.c **** #include "Krusty/KActManager.h"
  22:../Can_msg_processing.c **** #include "Tiny/TActManager.h"
  23:../Can_msg_processing.c **** 
  24:../Can_msg_processing.c **** #include "config_debug.h"
  25:../Can_msg_processing.c **** #define LOG_PREFIX "CANProcess: "
  26:../Can_msg_processing.c **** #define LOG_COMPONENT OUTPUT_LOG_COMPONENT_CANPROCESSMSG
  27:../Can_msg_processing.c **** #include "QS/QS_outputlog.h"
  28:../Can_msg_processing.c **** 
  29:../Can_msg_processing.c **** void CAN_process_msg(CAN_msg_t* msg) {
  40              		.loc 1 29 0
  41              		.cfi_startproc
  42              		@ args = 0, pretend = 0, frame = 8
  43              		@ frame_needed = 1, uses_anonymous_args = 0
  44 0000 80B5     		push	{r7, lr}
  45              	.LCFI0:
  46              		.cfi_def_cfa_offset 8
  47              		.cfi_offset 7, -8
  48              		.cfi_offset 14, -4
  49 0002 84B0     		sub	sp, sp, #16
  50              	.LCFI1:
  51              		.cfi_def_cfa_offset 24
  52 0004 02AF     		add	r7, sp, #8
  53              	.LCFI2:
  54              		.cfi_def_cfa 7, 16
  55 0006 7860     		str	r0, [r7, #4]
  30:../Can_msg_processing.c **** 	if(ACTMGR_process_msg(msg)) {
  56              		.loc 1 30 0
  57 0008 7868     		ldr	r0, [r7, #4]
  58 000a FFF7FEFF 		bl	ACTMGR_process_msg
  59 000e 0346     		mov	r3, r0
  60 0010 002B     		cmp	r3, #0
  61 0012 10D0     		beq	.L2
  31:../Can_msg_processing.c **** 		component_printf(LOG_LEVEL_Debug, "Act Msg SID: 0x%x, cmd: 0x%x(%u)\n", msg->sid, msg->data[0], m
  62              		.loc 1 31 0
  63 0014 7B68     		ldr	r3, [r7, #4]
  64 0016 1B88     		ldrh	r3, [r3, #0]
  65 0018 1A46     		mov	r2, r3
  66 001a 7B68     		ldr	r3, [r7, #4]
  67 001c 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
  68 001e 7968     		ldr	r1, [r7, #4]
  69 0020 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
  70 0022 0091     		str	r1, [sp, #0]
  71 0024 4FF00500 		mov	r0, #5
  72 0028 40F20001 		movw	r1, #:lower16:.LC0
  73 002c C0F20001 		movt	r1, #:upper16:.LC0
  74 0030 FFF7FEFF 		bl	OUTPUTLOG_printf
  32:../Can_msg_processing.c **** 		return;  //Le message a déja été géré
  75              		.loc 1 32 0
  76 0034 3EE0     		b	.L1
  77              	.L2:
  33:../Can_msg_processing.c **** 	}
  34:../Can_msg_processing.c **** 
  35:../Can_msg_processing.c **** 
  36:../Can_msg_processing.c **** 	// Traitement des autres messages reçus
  37:../Can_msg_processing.c **** 	switch (msg->sid)
  78              		.loc 1 37 0
  79 0036 7B68     		ldr	r3, [r7, #4]
  80 0038 1B88     		ldrh	r3, [r3, #0]
  81 003a 022B     		cmp	r3, #2
  82 003c 04D0     		beq	.L6
  83 003e 042B     		cmp	r3, #4
  84 0040 37D0     		beq	.L9
  85 0042 012B     		cmp	r3, #1
  86 0044 16D0     		beq	.L5
  87 0046 25E0     		b	.L8
  88              	.L6:
  38:../Can_msg_processing.c **** 	{
  39:../Can_msg_processing.c **** 		//Fin de la partie
  40:../Can_msg_processing.c **** 		case BROADCAST_STOP_ALL :
  41:../Can_msg_processing.c **** 			global.match_started = FALSE;
  89              		.loc 1 41 0
  90 0048 40F20003 		movw	r3, #:lower16:global
  91 004c C0F20003 		movt	r3, #:upper16:global
  92 0050 4FF00002 		mov	r2, #0
  93 0054 1A70     		strb	r2, [r3, #0]
  42:../Can_msg_processing.c **** 			component_printf(LOG_LEVEL_Info, "C:BROADCAST_STOP_ALL\n");
  94              		.loc 1 42 0
  95 0056 4FF00400 		mov	r0, #4
  96 005a 40F20001 		movw	r1, #:lower16:.LC1
  97 005e C0F20001 		movt	r1, #:upper16:.LC1
  98 0062 FFF7FEFF 		bl	OUTPUTLOG_printf
  43:../Can_msg_processing.c **** 			QUEUE_flush_all();
  99              		.loc 1 43 0
 100 0066 FFF7FEFF 		bl	QUEUE_flush_all
  44:../Can_msg_processing.c **** 			ACTMGR_stop();
 101              		.loc 1 44 0
 102 006a FFF7FEFF 		bl	ACTMGR_stop
  45:../Can_msg_processing.c **** 			DCM_stop_all();
 103              		.loc 1 45 0
 104 006e FFF7FEFF 		bl	DCM_stop_all
  46:../Can_msg_processing.c **** 			break;
 105              		.loc 1 46 0
 106 0072 1FE0     		b	.L1
 107              	.L5:
  47:../Can_msg_processing.c **** 
  48:../Can_msg_processing.c **** 		//Reprise de la partie
  49:../Can_msg_processing.c **** 		case BROADCAST_START :
  50:../Can_msg_processing.c **** 			component_printf(LOG_LEVEL_Info, "C:BROADCAST_START\n");
 108              		.loc 1 50 0
 109 0074 4FF00400 		mov	r0, #4
 110 0078 40F20001 		movw	r1, #:lower16:.LC2
 111 007c C0F20001 		movt	r1, #:upper16:.LC2
 112 0080 FFF7FEFF 		bl	OUTPUTLOG_printf
  51:../Can_msg_processing.c **** 			global.match_started = TRUE;
 113              		.loc 1 51 0
 114 0084 40F20003 		movw	r3, #:lower16:global
 115 0088 C0F20003 		movt	r3, #:upper16:global
 116 008c 4FF00102 		mov	r2, #1
 117 0090 1A70     		strb	r2, [r3, #0]
  52:../Can_msg_processing.c **** 			break;
 118              		.loc 1 52 0
 119 0092 0FE0     		b	.L1
 120              	.L8:
  53:../Can_msg_processing.c **** 
  54:../Can_msg_processing.c **** 		case BROADCAST_POSITION_ROBOT:
  55:../Can_msg_processing.c **** 			//Rien, mais pas inclus dans le cas default où l'on peut afficher le sid...
  56:../Can_msg_processing.c **** 			break;
  57:../Can_msg_processing.c **** 
  58:../Can_msg_processing.c **** 		default:
  59:../Can_msg_processing.c **** 			//debug_printf("SID:%x\r\n",msg->sid);
  60:../Can_msg_processing.c **** 			component_printf(LOG_LEVEL_Trace, "Msg SID: 0x%x(%u)\n", msg->sid, msg->sid);
 121              		.loc 1 60 0
 122 0094 7B68     		ldr	r3, [r7, #4]
 123 0096 1B88     		ldrh	r3, [r3, #0]
 124 0098 1A46     		mov	r2, r3
 125 009a 7B68     		ldr	r3, [r7, #4]
 126 009c 1B88     		ldrh	r3, [r3, #0]
 127 009e 4FF00600 		mov	r0, #6
 128 00a2 40F20001 		movw	r1, #:lower16:.LC3
 129 00a6 C0F20001 		movt	r1, #:upper16:.LC3
 130 00aa FFF7FEFF 		bl	OUTPUTLOG_printf
  61:../Can_msg_processing.c **** 			break;
 131              		.loc 1 61 0
 132 00ae 00BF     		nop
 133 00b0 00E0     		b	.L1
 134              	.L9:
  56:../Can_msg_processing.c **** 			break;
 135              		.loc 1 56 0
 136 00b2 00BF     		nop
 137              	.L1:
  62:../Can_msg_processing.c **** 	}//End switch
  63:../Can_msg_processing.c **** }
 138              		.loc 1 63 0
 139 00b4 07F10807 		add	r7, r7, #8
 140 00b8 BD46     		mov	sp, r7
 141 00ba 80BD     		pop	{r7, pc}
 142              		.cfi_endproc
 143              	.LFE111:
 145              	.Letext0:
 146              		.file 2 "c:\\program files (x86)\\eclipse-arm-eseo\\gcc-arm-none-eabi-4_7-2013q2-20130614-win32\\g
 147              		.file 3 "../QS/QS_types.h"
 148              		.file 4 "../QS/QS_global_vars.h"
 149              		.file 5 "../config/config_global_vars.h"
 150              		.file 6 "../QS/QS_outputlog.h"
 151              		.file 7 "../stm32f4xx/core_cm4.h"
DEFINED SYMBOLS
                            *ABS*:00000000 Can_msg_processing.c
C:\Users\Amaury\AppData\Local\Temp\cc3igDxM.s:19     .rodata:00000000 $d
C:\Users\Amaury\AppData\Local\Temp\cc3igDxM.s:20     .rodata:00000000 .LC0
C:\Users\Amaury\AppData\Local\Temp\cc3igDxM.s:23     .rodata:00000030 .LC1
C:\Users\Amaury\AppData\Local\Temp\cc3igDxM.s:26     .rodata:00000054 .LC2
C:\Users\Amaury\AppData\Local\Temp\cc3igDxM.s:29     .rodata:00000074 .LC3
C:\Users\Amaury\AppData\Local\Temp\cc3igDxM.s:32     .text:00000000 $t
C:\Users\Amaury\AppData\Local\Temp\cc3igDxM.s:37     .text:00000000 CAN_process_msg
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.1.13c6c37fe6ef97541a459ad1f2cd1ddb
                           .group:00000000 wm4.stm32f4xx.h.54.d172d9d6631f11a8436908e748990b53
                           .group:00000000 wm4.core_cm4.h.32.39d0f71cd333856d56f1935d9037195e
                           .group:00000000 wm4.newlib.h.8.a9901dc52d1357e3e94003403d43f8b5
                           .group:00000000 wm4.features.h.22.b72b3baab2bb2eab3661375590100b6b
                           .group:00000000 wm4.config.h.193.5fb8ef056cdff92dec3dee9552839d8c
                           .group:00000000 wm4._ansi.h.23.b5bb84d7ba97d82b5b1dc1826a7ae811
                           .group:00000000 wm4.stdint.h.20.54ad762faa59e3c05491630641c8d8bf
                           .group:00000000 wm4.core_cmInstr.h.25.d8165482ef3061013a2fc83e2d85f3d9
                           .group:00000000 wm4.core_cm4_simd.h.29.013e5bcf58dba2d27c60184174208e07
                           .group:00000000 wm4.core_cm4.h.163.d36d54ebc869626f337c4fcb95a9b424
                           .group:00000000 wm4.stm32f4xx.h.306.7867854ab89778ccd63e1fde7c22c0b6
                           .group:00000000 wm4.stm32f4xx_rcc.h.65.29a27820bc754566c4190ed8ad1c1d80
                           .group:00000000 wm4.misc.h.31.041217492a6cb86f2fb26099f373a465
                           .group:00000000 wm4.stm32f4xx.h.7233.cb6cb3cb095c29e1fc0eb152d26090b1
                           .group:00000000 wm4.Global_config.h.14.bea53ddf4045d71f1c9fb87037131e8e
                           .group:00000000 wm4.config_global.h.12.5c30ea43d7f0d9daa101874e8ba75f6f
                           .group:00000000 wm4.config_qs.h.12.4699be7196e891fb4cd84d522e29cde7
                           .group:00000000 wm4.config_qs.h.12.8e0ab7f7cbbdaecfb1e464f5610b5d86
                           .group:00000000 wm4.QS_macro.h.19.3d2533714681986d2ad8c517737c4640
                           .group:00000000 wm4.QS_CANmsgList.h.18.4820ab5d82fa43f9421f4e5eb46c19bc
                           .group:00000000 wm4.stm32f4xx_tim.h.31.b1d608fbde729347e4ccf70799e654d2
                           .group:00000000 wm4.QS_timer.h.23.f1c7374d1ffe22793578c04386c6b1e2
                           .group:00000000 wm4.queue.h.39.c6c83c771916888b8b8278e5c5477b11
                           .group:00000000 wm4.config_debug.h.12.ce495d07741075ca26554eb90b0ab381
                           .group:00000000 wm4.QS_outputlog.h.12.497571275ee7bc35db4cbeb19919be7a

UNDEFINED SYMBOLS
ACTMGR_process_msg
OUTPUTLOG_printf
global
QUEUE_flush_all
ACTMGR_stop
DCM_stop_all
