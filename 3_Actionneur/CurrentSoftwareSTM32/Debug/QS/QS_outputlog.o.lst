   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"QS_outputlog.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.data
  21              	current_max_log_level:
  22 0000 05       		.byte	5
  23              		.text
  24              		.align	2
  25              		.global	OUTPUTLOG_printf
  26              		.thumb
  27              		.thumb_func
  29              	OUTPUTLOG_printf:
  30              	.LFB111:
  31              		.file 1 "../QS/QS_outputlog.c"
   1:../QS/QS_outputlog.c **** /*
   2:../QS/QS_outputlog.c ****  *  Club Robot ESEO 2012 - 2014
   3:../QS/QS_outputlog.c ****  *
   4:../QS/QS_outputlog.c ****  *  $Id: QS_outputlog.c 955 2013-10-18 16:37:31Z amurzeau $
   5:../QS/QS_outputlog.c ****  *
   6:../QS/QS_outputlog.c ****  *  Package : Qualité Soft
   7:../QS/QS_outputlog.c ****  *  Description : Propose une fonction pour envoyer des logs suivant leur importance.
   8:../QS/QS_outputlog.c ****  *  Auteur : Alexis
   9:../QS/QS_outputlog.c ****  */
  10:../QS/QS_outputlog.c **** 
  11:../QS/QS_outputlog.c **** #include "QS_outputlog.h"
  12:../QS/QS_outputlog.c **** #ifdef NEW_CONFIG_ORGANISATION
  13:../QS/QS_outputlog.c **** 	#include "config_debug.h"
  14:../QS/QS_outputlog.c **** #endif
  15:../QS/QS_outputlog.c **** 
  16:../QS/QS_outputlog.c **** #include <stdio.h>
  17:../QS/QS_outputlog.c **** #include <stdarg.h>
  18:../QS/QS_outputlog.c **** 
  19:../QS/QS_outputlog.c **** #ifndef OUTPUTLOG_DEFAULT_MAX_LOG_LEVEL
  20:../QS/QS_outputlog.c **** #define OUTPUTLOG_DEFAULT_MAX_LOG_LEVEL LOG_LEVEL_Warning
  21:../QS/QS_outputlog.c **** #warning "Attention, niveau d'affichage printf non défini, mis à LOG_LEVEL_Warning par defaut"
  22:../QS/QS_outputlog.c **** #endif
  23:../QS/QS_outputlog.c **** 
  24:../QS/QS_outputlog.c **** static log_level_e current_max_log_level = OUTPUTLOG_DEFAULT_MAX_LOG_LEVEL;
  25:../QS/QS_outputlog.c **** 
  26:../QS/QS_outputlog.c **** void OUTPUTLOG_printf(log_level_e level, const char * format, ...) {
  32              		.loc 1 26 0
  33              		.cfi_startproc
  34              		@ args = 4, pretend = 12, frame = 16
  35              		@ frame_needed = 1, uses_anonymous_args = 1
  36 0000 0EB4     		push	{r1, r2, r3}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 12
  39              		.cfi_offset 1, -12
  40              		.cfi_offset 2, -8
  41              		.cfi_offset 3, -4
  42 0002 80B5     		push	{r7, lr}
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 20
  45              		.cfi_offset 7, -20
  46              		.cfi_offset 14, -16
  47 0004 85B0     		sub	sp, sp, #20
  48              	.LCFI2:
  49              		.cfi_def_cfa_offset 40
  50 0006 00AF     		add	r7, sp, #0
  51              	.LCFI3:
  52              		.cfi_def_cfa_register 7
  53 0008 0346     		mov	r3, r0
  54 000a FB71     		strb	r3, [r7, #7]
  27:../QS/QS_outputlog.c **** #ifdef VERBOSE_MODE
  28:../QS/QS_outputlog.c **** 	va_list args_list;
  29:../QS/QS_outputlog.c **** 
  30:../QS/QS_outputlog.c **** 	//level trop haut ou affichage desactivé, on n'affiche pas
  31:../QS/QS_outputlog.c **** 	if(level != LOG_LEVEL_Always && level > current_max_log_level)
  55              		.loc 1 31 0
  56 000c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
  57 000e 002B     		cmp	r3, #0
  58 0010 07D0     		beq	.L2
  59              		.loc 1 31 0 is_stmt 0 discriminator 1
  60 0012 40F20003 		movw	r3, #:lower16:current_max_log_level
  61 0016 C0F20003 		movt	r3, #:upper16:current_max_log_level
  62 001a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  63 001c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
  64 001e 9A42     		cmp	r2, r3
  65 0020 06D8     		bhi	.L1
  66              	.L2:
  32:../QS/QS_outputlog.c **** 		return;
  33:../QS/QS_outputlog.c **** 
  34:../QS/QS_outputlog.c **** 	va_start(args_list, format);
  67              		.loc 1 34 0 is_stmt 1
  68 0022 07F12003 		add	r3, r7, #32
  69 0026 FB60     		str	r3, [r7, #12]
  35:../QS/QS_outputlog.c **** 	vprintf(format, args_list);
  70              		.loc 1 35 0
  71 0028 F869     		ldr	r0, [r7, #28]
  72 002a F968     		ldr	r1, [r7, #12]
  73 002c FFF7FEFF 		bl	vprintf
  74              	.L1:
  36:../QS/QS_outputlog.c **** 	va_end(args_list);
  37:../QS/QS_outputlog.c **** #else
  38:../QS/QS_outputlog.c **** 	//Anti warning arguments non utilisés
  39:../QS/QS_outputlog.c **** 	level = level;
  40:../QS/QS_outputlog.c **** 	format = format;
  41:../QS/QS_outputlog.c **** #endif
  42:../QS/QS_outputlog.c **** }
  75              		.loc 1 42 0
  76 0030 07F11407 		add	r7, r7, #20
  77 0034 BD46     		mov	sp, r7
  78 0036 BDE88040 		pop	{r7, lr}
  79 003a 03B0     		add	sp, sp, #12
  80 003c 7047     		bx	lr
  81              		.cfi_endproc
  82              	.LFE111:
  84              		.section	.rodata
  85              		.align	2
  86              	.LC0:
  87 0000 63757272 		.ascii	"current_max_log_level n'est jamais > 200, mais on e"
  87      656E745F 
  87      6D61785F 
  87      6C6F675F 
  87      6C657665 
  88 0033 73742073 		.ascii	"st sur de compiler le support du printf ...\000"
  88      75722064 
  88      6520636F 
  88      6D70696C 
  88      6572206C 
  89 005f 00       		.text
  90 003e 00BF     		.align	2
  91              		.global	OUTPUTLOG_set_level
  92              		.thumb
  93              		.thumb_func
  95              	OUTPUTLOG_set_level:
  96              	.LFB112:
  43:../QS/QS_outputlog.c **** 
  44:../QS/QS_outputlog.c **** void OUTPUTLOG_set_level(log_level_e level) {
  97              		.loc 1 44 0
  98              		.cfi_startproc
  99              		@ args = 0, pretend = 0, frame = 8
 100              		@ frame_needed = 1, uses_anonymous_args = 0
 101 0040 80B5     		push	{r7, lr}
 102              	.LCFI4:
 103              		.cfi_def_cfa_offset 8
 104              		.cfi_offset 7, -8
 105              		.cfi_offset 14, -4
 106 0042 82B0     		sub	sp, sp, #8
 107              	.LCFI5:
 108              		.cfi_def_cfa_offset 16
 109 0044 00AF     		add	r7, sp, #0
 110              	.LCFI6:
 111              		.cfi_def_cfa_register 7
 112 0046 0346     		mov	r3, r0
 113 0048 FB71     		strb	r3, [r7, #7]
  45:../QS/QS_outputlog.c **** 	current_max_log_level = level;
 114              		.loc 1 45 0
 115 004a 40F20003 		movw	r3, #:lower16:current_max_log_level
 116 004e C0F20003 		movt	r3, #:upper16:current_max_log_level
 117 0052 FA79     		ldrb	r2, [r7, #7]
 118 0054 1A70     		strb	r2, [r3, #0]
  46:../QS/QS_outputlog.c **** 	if(current_max_log_level > 200)
 119              		.loc 1 46 0
 120 0056 40F20003 		movw	r3, #:lower16:current_max_log_level
 121 005a C0F20003 		movt	r3, #:upper16:current_max_log_level
 122 005e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 123 0060 C82B     		cmp	r3, #200
 124 0062 05D9     		bls	.L5
  47:../QS/QS_outputlog.c **** 		printf("current_max_log_level n'est jamais > 200, mais on est sur de compiler le support du print
 125              		.loc 1 47 0
 126 0064 40F20000 		movw	r0, #:lower16:.LC0
 127 0068 C0F20000 		movt	r0, #:upper16:.LC0
 128 006c FFF7FEFF 		bl	printf
 129              	.L5:
  48:../QS/QS_outputlog.c **** }
 130              		.loc 1 48 0
 131 0070 07F10807 		add	r7, r7, #8
 132 0074 BD46     		mov	sp, r7
 133 0076 80BD     		pop	{r7, pc}
 134              		.cfi_endproc
 135              	.LFE112:
 137              		.align	2
 138              		.global	OUTPUTLOG_get_level
 139              		.thumb
 140              		.thumb_func
 142              	OUTPUTLOG_get_level:
 143              	.LFB113:
  49:../QS/QS_outputlog.c **** 
  50:../QS/QS_outputlog.c **** log_level_e OUTPUTLOG_get_level() {
 144              		.loc 1 50 0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 1, uses_anonymous_args = 0
 148              		@ link register save eliminated.
 149 0078 80B4     		push	{r7}
 150              	.LCFI7:
 151              		.cfi_def_cfa_offset 4
 152              		.cfi_offset 7, -4
 153 007a 00AF     		add	r7, sp, #0
 154              	.LCFI8:
 155              		.cfi_def_cfa_register 7
  51:../QS/QS_outputlog.c **** 	return current_max_log_level;
 156              		.loc 1 51 0
 157 007c 40F20003 		movw	r3, #:lower16:current_max_log_level
 158 0080 C0F20003 		movt	r3, #:upper16:current_max_log_level
 159 0084 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  52:../QS/QS_outputlog.c **** }
 160              		.loc 1 52 0
 161 0086 1846     		mov	r0, r3
 162 0088 BD46     		mov	sp, r7
 163 008a 80BC     		pop	{r7}
 164 008c 7047     		bx	lr
 165              		.cfi_endproc
 166              	.LFE113:
 168              	.Letext0:
 169              		.file 2 "c:\\program files (x86)\\eclipse-arm-eseo\\gcc-arm-none-eabi-4_7-2013q2-20130614-win32\\g
 170              		.file 3 "../QS/QS_outputlog.h"
 171              		.file 4 "c:\\program files (x86)\\eclipse-arm-eseo\\gcc-arm-none-eabi-4_7-2013q2-20130614-win32\\g
 172              		.file 5 "<built-in>"
 173              		.file 6 "../stm32f4xx/core_cm4.h"
DEFINED SYMBOLS
                            *ABS*:00000000 QS_outputlog.c
C:\Users\Amaury\AppData\Local\Temp\ccKKRzhK.s:21     .data:00000000 current_max_log_level
C:\Users\Amaury\AppData\Local\Temp\ccKKRzhK.s:24     .text:00000000 $t
C:\Users\Amaury\AppData\Local\Temp\ccKKRzhK.s:29     .text:00000000 OUTPUTLOG_printf
C:\Users\Amaury\AppData\Local\Temp\ccKKRzhK.s:85     .rodata:00000000 $d
C:\Users\Amaury\AppData\Local\Temp\ccKKRzhK.s:86     .rodata:00000000 .LC0
C:\Users\Amaury\AppData\Local\Temp\ccKKRzhK.s:95     .text:00000040 OUTPUTLOG_set_level
C:\Users\Amaury\AppData\Local\Temp\ccKKRzhK.s:142    .text:00000078 OUTPUTLOG_get_level
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.1.13c6c37fe6ef97541a459ad1f2cd1ddb
                           .group:00000000 wm4.stm32f4xx.h.54.d172d9d6631f11a8436908e748990b53
                           .group:00000000 wm4.core_cm4.h.32.39d0f71cd333856d56f1935d9037195e
                           .group:00000000 wm4.newlib.h.8.a9901dc52d1357e3e94003403d43f8b5
                           .group:00000000 wm4.features.h.22.b72b3baab2bb2eab3661375590100b6b
                           .group:00000000 wm4.config.h.193.5fb8ef056cdff92dec3dee9552839d8c
                           .group:00000000 wm4._ansi.h.23.b5bb84d7ba97d82b5b1dc1826a7ae811
                           .group:00000000 wm4.stdint.h.20.54ad762faa59e3c05491630641c8d8bf
                           .group:00000000 wm4.core_cmInstr.h.25.d8165482ef3061013a2fc83e2d85f3d9
                           .group:00000000 wm4.core_cm4_simd.h.29.013e5bcf58dba2d27c60184174208e07
                           .group:00000000 wm4.core_cm4.h.163.d36d54ebc869626f337c4fcb95a9b424
                           .group:00000000 wm4.stm32f4xx.h.306.7867854ab89778ccd63e1fde7c22c0b6
                           .group:00000000 wm4.stm32f4xx_rcc.h.65.29a27820bc754566c4190ed8ad1c1d80
                           .group:00000000 wm4.misc.h.31.041217492a6cb86f2fb26099f373a465
                           .group:00000000 wm4.stm32f4xx.h.7233.cb6cb3cb095c29e1fc0eb152d26090b1
                           .group:00000000 wm4.Global_config.h.14.bea53ddf4045d71f1c9fb87037131e8e
                           .group:00000000 wm4.config_global.h.12.5c30ea43d7f0d9daa101874e8ba75f6f
                           .group:00000000 wm4.config_qs.h.12.4699be7196e891fb4cd84d522e29cde7
                           .group:00000000 wm4.config_qs.h.12.8e0ab7f7cbbdaecfb1e464f5610b5d86
                           .group:00000000 wm4.QS_macro.h.19.3d2533714681986d2ad8c517737c4640
                           .group:00000000 wm4.QS_outputlog.h.23.2a50910d1123943e1f81761799371945
                           .group:00000000 wm4.config_debug.h.12.ce495d07741075ca26554eb90b0ab381
                           .group:00000000 wm4.stdio.h.31.f48311dde756a2aec27351b58a280fb9
                           .group:00000000 wm4.stddef.h.187.9e651b6b8b16e149c1353259404973ea
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4._default_types.h.6.5e12cd604db8ce00b62bb2f02708eaf3
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4.stddef.h.349.31f4c5baff3fa2689010b32028da9c47
                           .group:00000000 wm4.reent.h.16.9e42f0e588b85e70b2bf6572af57ce64
                           .group:00000000 wm4.types.h.23.0d949686bbcadd1621462d4fa1f884f9
                           .group:00000000 wm4.stddef.h.40.cf962ebbec441b3ac67502735f0765db
                           .group:00000000 wm4.types.h.2.e9cec8c90ab35f77d9f499e06ae02400
                           .group:00000000 wm4.types.h.80.1f2c84c0d57dd52dd9936095d9ac218e
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.63.dfdea6580b080784d08faace69b6ed76
                           .group:00000000 wm4.stdarg.h.31.fa591a4b1df9e413e9f5b8097f9ae89d

UNDEFINED SYMBOLS
vprintf
printf
